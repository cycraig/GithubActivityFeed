{% extends 'base.html' %}

{% block content %}
  <div class="user-header">
    <a href="{{ user_details['html_url'] }}">
      <img class="user-avatar avatar" src="{{ user_details['avatar_url'] }}" width="50" height="50">
    </a>
    <h4>
      <a href="{{ user_details['html_url'] }}">
        {{ user_details['login'] }}
      </a>
    </h4>
  </div>
  {% if events %}
    {% for event in events %}
    <div class="outer-event-container">
      <i class="event-icon fa-lg {{ event_icons[event['type']] }}"></i>
      <div class="event-container">
        <span class="mr-3">
          <a href="{{ event['actor']['url'] }}">
            <img class="avatar" src="{{ event['actor']['avatar_url'] }}" width="42" height="42">
          </a>
        </span>
        <div class="event-content">
          <small class="event-timestamp">
            {{ event['created_at'] | datetimesince }}
          </small>
          <span>
          <a href="{{ event['actor']['url'] }}">{{ event['actor']['login'] }}</a>
          {{ event_templates[event['type']](event)|safe }}
          </span>
        </div>
      </div>
    </div>
    {% endfor %}
  {% else %}
    No events for {{ target_user }}!
  {% endif %}
{% endblock %}
